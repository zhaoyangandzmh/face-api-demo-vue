import{d as a,b as e,r as l,a3 as t,i as s,h as u,g as n,N as i,F as o,z as d,O as c,P as r,o as v,l as m,k as p,Q as f,V as g}from"./vendor.51cee63a.js";/* empty css              *//* empty css              */c("data-v-c18dfa28");const h=p(" 前置后置切换（重新启动摄像头）： "),b=i("hr",null,null,-1),x={class:"videoWrap"};r();var j=a({setup(a){const c=[{label:"前置",value:"user"},{label:"后置",value:"environment"}],r=e({audio:!1,video:{width:{min:320,ideal:960,max:1920},height:{min:240,ideal:540,max:1080},frameRate:{min:15,ideal:30,max:60},facingMode:"user"}}),p=l();let j=null;const _=l(),k=a=>{j=a,_.value.srcObject=a,_.value.play()},M=a=>{alert("视频媒体流获取错误"+a)},T=()=>{j||(clearTimeout(p.value),p.value=setTimeout((()=>{clearTimeout(p.value),navigator.mediaDevices.getUserMedia(r).then(k).catch(M)}),500))},y=()=>{_.value.pause(),j&&(_.value.srcObject=null,null==j||j.getTracks().forEach((a=>a.stop())),j=null)};return t(y),(a,e)=>{const l=f,t=g,p=d;return v(),s(o,null,[u(p,null,{default:n((()=>[u(l,null,{default:n((()=>[i("div",null,[i("button",{onClick:T},"启动摄像头视频媒体"),i("button",{onClick:y},"结束摄像头视频媒体")])])),_:1}),u(l,null,{default:n((()=>[h,u(t,{options:c,value:m(r).video.facingMode,"onUpdate:value":e[0]||(e[0]=a=>m(r).video.facingMode=a)},null,8,["value"])])),_:1})])),_:1}),b,i("div",x,[i("video",{ref:_,poster:"https://dummyimage.com/960x540",muted:"",loop:"",playsinline:""},null,512)])],64)}}});j.__scopeId="data-v-c18dfa28";export{j as default};
